.. _compatibility:

******************************
MSTS File Format Compatibility
******************************

Open Rails software supports the MSTS file formats detailed below. The 
software uses a file parser to read the MSTS file information for use by 
the Open Rails software. Testing of the parser software indicates that it 
will locate many errors or malformation in these files that are not 
highlighted by the MSTS train sim software or by other utilities. In most 
cases, the Open Rails software will ignore the error in the file and run 
properly. Open Rails software logs these errors in a log file on the 
user's desktop. This log file may be used to correct problems identified 
by the Open Rails software.

Trainset
========

The software currently supports Shape (.s), Shape Definition (.sd), Sound 
(.sms), Cab (.cvf), and texture Ace (.ace) files; including displaying the 
correct LOD, alpha and transparency attributes. Moreover it supports the 
file types: Engine (.eng); Wagon (.wag). It substitutes MSTS-style physics 
to enable the user to operate trains.

Consists
========

Open Rails software reads and displays Consist files (.con) used for 
Player Train, AI Train, and Loose Consists in activities. 

Services
========

Open Rails software supports MSTS Service files (.srv) for the creation of 
both Player and AI services.

Paths
=====

Open Rails software supports MSTS Path files (.pat) for determining the 
path of both Player and AI Trains.

Routes
======

Open Rails software supports the following MSTS Route files with the 
limitations noted.

- Route Database file (.rdb) -- CarSpawner is supported.
- Reference File (.ref) -- Open Rails does not provide a Route Editor in 
  the current release.
- Track Database file (.tdb) -- supported
- Route File (.trk) -- Level Crossings and overhead wires are supported.
- Sigcfg (.dat) file -- Signal & scripting capabilities are supported.
- Sigscr (.dat) file -- Signal & scripting capabilities are supported.
- Speedpost (.dat) file -- Supported
- Spotter (.dat) file -- Supported
- Ssource (.dat) file -- Supported
- Telepole (.dat) file -- Supported
- Tsection (.dat) file -- Supported
- Ttype (.dat)  file -- Supported
- Hazards (.haz) file -- Supported

Environment
===========

Open Rails software does not support advanced water dynamic effects at 
this time, while it supports first-level, player-driven dynamic weather 
effects.

Open Rails provides two types of environment representation that can be 
selected by the player at game start: a MSTS compatible one and a native 
one.

In the native version Open Rails software uses its own sky, cloud, sun, 
moon and precipitation effects developed exclusively for it. In activity 
mode the starting parameters for time of day and weather are read from the 
activity file to determine the starting display in Open Rails software.

Activities
==========

Open Rails software runs without problems a great percentage of the 
passenger and freight activities created using the MSTS activity editor. 
It also offers some OR_specific options to add interesting features to 
existing activities.

Folder Structure
================

Open Rails uses a subset of the MSTS folder structure to run.
The following folders, together with their related sub-folders, are needed 
at root level:
- GLOBAL
- ROUTES
- TRAINS
- SOUND

At root level no files are needed.

Within the GLOBAL folder the following sub-folders are needed if global 
(shared among more than one route) shapes and textures are used:
- SHAPES
- TEXTURES

Within the GLOBAL folder only the file tsection.dat is absolutely needed. 
Files sigcfg.dat and sigscr.dat are needed if there are routes that don't 
have their own specific files with the same names in their root folder.

Which Original MSTS Content Files Are Usually Needed To Run MSTS-Compatible Content Generated by Third Parties?
===============================================================================================================

A general summary of which original MSTS content files within the Train 
Simulator root folders are usually used by MSTS-compatible content follows.

- **GLOBAL** root folder:
  
  Many routes use specific track sets, like XTRACK, UK-finescale etc.
  
  Routes which solely use such sets do not need any of the original MSTS 
  files from GLOBAL, as all required files come from the relevant track set. 
  There are however also many routes using original MSTS track sets. These 
  routes will need part or all the files contained in the SHAPES and 
  TEXTURES subfolders within the GLOBAL folder.

- **ROUTES** root folder:
  
  In principle, to run a route only that specific route folder is required.
  
  However, many routes - in particular freeware routes - use much material 
  from the original MSTS routes, and therefore the original MSTS routes need 
  to be available in order to properly install these routes.

- **TRAINS** root folder:
  
  Requirements are similar to routes. Again, only the folders for the 
  trainsets which are actually used are required, but many third-party 
  trainsets refer to original MSTS files like cabviews and, in particular, 
  sound files. Many consists refer to engines or wagons from the original 
  MSTS routes but those can be easily replaced with other engines or wagons.

- **SOUND** root folder:
  
  Only very few routes provide a full new sound set, so the original files 
  included in this folder are usually needed.

RailDriver Support
==================

Open Rails offers native support for the RailDriver Desktop Train Cab 
Controller. Instructions for setting up RailDriver for Open Rails are 
included in the Installation Manual that is included with the Open Rails 
Installer, or it can be downloaded separately from the Open Rails website.
